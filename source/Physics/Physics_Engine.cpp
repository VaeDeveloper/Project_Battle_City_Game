#include "Physics_Engine.h"

#include "../Game/GameObjects/Game_Object.h"


//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
std::unordered_set<std::shared_ptr<Game_Object>> PhysicsEngine::Dynamic_Objects;
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void PhysicsEngine::Init()
{

}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void PhysicsEngine::Destroy()
{
    Dynamic_Objects.clear();
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void PhysicsEngine::Update(const double delta_time)
{
    for (auto& curr_object : Dynamic_Objects)
    {
        if (curr_object->Get_Current_Velocity() > 0.0)
        {
            curr_object->Get_Current_Position() += curr_object->Get_Current_Direction()
                                                * static_cast<float>(curr_object->Get_Current_Velocity()
                                                * delta_time);
        }
    }
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
void PhysicsEngine::Add_Dynamic_Game_Object(std::shared_ptr<Game_Object> game_object)
{
    Dynamic_Objects.insert(std::move(game_object));
}
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
